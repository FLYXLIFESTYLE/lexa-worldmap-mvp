# ğŸš€ LEXA MVP - QUICK REFERENCE CARD

Keep this open on your second monitor! ğŸ“Œ

---

## ğŸ“ Project Structure (What Goes Where)

```
lexa-mvp/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ page.tsx                    â† Landing page
â”‚   â”œâ”€â”€ layout.tsx                  â† BETA badge + fonts
â”‚   â”œâ”€â”€ globals.css                 â† Moved to styles/ by Next.js
â”‚   â”œâ”€â”€ onboarding/
â”‚   â”‚   â””â”€â”€ page.tsx                â† Account creation
â”‚   â”œâ”€â”€ experience/
â”‚   â”‚   â”œâ”€â”€ page.tsx                â† 3-step builder
â”‚   â”‚   â””â”€â”€ chat/
â”‚   â”‚       â””â”€â”€ page.tsx            â† AIlessia conversation
â”‚   â””â”€â”€ preview/
â”‚       â””â”€â”€ page.tsx                â† Script preview
â”œâ”€â”€ components/
â”‚   â””â”€â”€ ui/                         â† Auto-generated by Shadcn
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ api.ts                      â† Backend API client
â”‚   â””â”€â”€ storage.ts                  â† LocalStorage helpers (optional)
â”œâ”€â”€ styles/
â”‚   â””â”€â”€ globals.css                 â† Global styles (might be in app/)
â”œâ”€â”€ .env.local                      â† API URL config
â””â”€â”€ package.json                    â† Dependencies
```

---

## âš¡ Essential Commands

### Setup
```bash
# Create project
npx create-next-app@latest lexa-mvp --typescript --tailwind --app

# Install deps
npm install zustand axios date-fns lucide-react

# Setup Shadcn
npx shadcn-ui@latest init

# Add components
npx shadcn-ui@latest add button card input textarea badge calendar dialog alert
```

### Development
```bash
# Start frontend
npm run dev          # â†’ http://localhost:3000

# Start backend (in rag_system/)
uvicorn api.main:app --reload  # â†’ http://localhost:8000
```

### Production
```bash
# Build
npm run build
npm start

# Deploy to Vercel
git push origin main  # Auto-deploys if connected
```

---

## ğŸ”— Important URLs

| Service | URL | Purpose |
|---------|-----|---------|
| Frontend Dev | http://localhost:3000 | Your Next.js app |
| Backend API | http://localhost:8000 | FastAPI backend |
| API Docs | http://localhost:8000/docs | Swagger UI |
| Neo4j Browser | Your Neo4j URL | Check graph data |
| Supabase | app.supabase.com | Check client data |
| Vercel | vercel.com | Deploy frontend |

---

## ğŸ“Š LocalStorage Keys

```javascript
// What's stored in browser
lexa_account_id      // UUID from account creation
lexa_session_id      // UUID from account creation
lexa_name            // Client's name
lexa_selections      // {destination, theme, time}

// Clear all (if testing)
localStorage.clear()
```

---

## ğŸ¨ Design Tokens (Quick Copy)

### Colors
```css
/* Primary - Elegance */
bg-slate-900         /* Dark backgrounds */
text-slate-600       /* Secondary text */

/* Secondary - Luxury */
bg-yellow-500        /* BETA badge, CTAs */
hover:bg-yellow-600  /* Button hover */

/* Accent - AIlessia */
bg-blue-500          /* User messages */
bg-purple-900        /* Script header */
from-purple-400      /* Gradients */
```

### Spacing
```css
p-4    p-6    p-8      /* Padding */
mb-4   mb-6   mb-8     /* Margin bottom */
gap-2  gap-4  gap-8    /* Flex/grid gaps */

max-w-3xl max-w-4xl   /* Content width */
```

### Typography
```css
text-4xl font-serif   /* Page titles */
text-xl text-slate-600 /* Subtitles */
text-sm text-slate-500 /* Helper text */
```

---

## ğŸ”Œ API Endpoints (Backend)

### Account
```typescript
POST /api/ailessia/account/create
Body: { email, name? }
Returns: { account_id, session_id }
```

### Conversation
```typescript
POST /api/ailessia/converse
Body: {
  account_id,
  session_id,
  message,
  conversation_history: [{role, content}]
}
Returns: {
  ailessia_response,
  emotion_analysis,
  conversation_stage,
  proactive_suggestions
}
```

### Script Generation
```typescript
POST /api/ailessia/compose-script
Body: {
  account_id,
  session_id,
  selected_choices: {destination, theme, time}
}
Returns: {
  script_id,
  title,
  cinematic_hook,
  emotional_arc,
  signature_highlights,
  ailessia_message
}
```

### Recommendations
```typescript
GET /api/ailessia/recommendations/pois
Query: account_id, destination_name, limit
Returns: [{ name, luxury_score, activities, emotions }]
```

---

## ğŸ› Common Errors & Fixes

| Error | Fix |
|-------|-----|
| Module not found: 'api' | Wrong import path â†’ `@/lib/api` |
| localStorage undefined | Add `typeof window !== 'undefined'` check |
| CORS error | Backend CORS already enabled, restart backend |
| Shadcn component missing | Run `npx shadcn-ui@latest add <component>` |
| Build fails TypeScript | Add `// @ts-ignore` above error line |
| Vercel env var not working | Must start with `NEXT_PUBLIC_` |
| Backend returns 404 | Check backend is running on port 8000 |
| Account creation fails | Check backend logs for error details |

---

## ğŸ“ Copy-Paste Snippets

### Check if account exists
```typescript
const accountId = localStorage.getItem('lexa_account_id')
if (!accountId) {
  router.push('/onboarding')
  return
}
```

### Loading state
```typescript
const [isLoading, setIsLoading] = useState(false)

// Before API call
setIsLoading(true)

// After API call (success or error)
setIsLoading(false)
```

### Error handling
```typescript
try {
  const data = await api.sendMessage(...)
  // Handle success
} catch (error) {
  console.error('Error:', error)
  alert('Something went wrong. Please try again.')
}
```

### Download PDF
```typescript
const downloadPDF = async () => {
  const blob = await api.downloadScriptPDF(accountId, scriptId)
  const url = window.URL.createObjectURL(blob)
  const a = document.createElement('a')
  a.href = url
  a.download = 'lexa-experience.pdf'
  a.click()
}
```

---

## ğŸ¯ Testing Flow

1. âœ… Open http://localhost:3000
2. âœ… Click "Begin Your Journey"
3. âœ… Enter email: test@example.com
4. âœ… Select "French Riviera" + "Romantic Escape"
5. âœ… Click "Continue with AIlessia"
6. âœ… Send message: "It's our 10th anniversary"
7. âœ… Click quick action buttons
8. âœ… Continue conversation (6+ messages)
9. âœ… View script preview
10. âœ… Check mobile view (Chrome DevTools, 375px)

---

## ğŸš€ Deploy Checklist

```
â–¡ Backend is running and accessible
â–¡ Frontend build succeeds locally (npm run build)
â–¡ GitHub repo created and code pushed
â–¡ Vercel project created and connected
â–¡ Environment variable added: NEXT_PUBLIC_API_URL
â–¡ Deployment successful
â–¡ Production URL works
â–¡ Tested on actual mobile phone
```

---

## ğŸ“Š File Sizes (Approximate)

| File | Lines | Time |
|------|-------|------|
| layout.tsx | 30 | 5 min |
| page.tsx (landing) | 50 | 10 min |
| onboarding/page.tsx | 80 | 20 min |
| experience/page.tsx | 150 | 30 min |
| experience/chat/page.tsx | 200 | 45 min |
| preview/page.tsx | 100 | 20 min |
| lib/api.ts | 100 | 15 min |

**Total:** ~700 lines of code = ~2-3 hours of copy-paste + customization

---

## â° Time-Saving Tips

1. **Copy entire files** - Don't type, paste from templates
2. **Test incrementally** - Verify each page before moving on
3. **Skip animations** - Add later, focus on functionality
4. **Use Shadcn defaults** - Don't customize components yet
5. **Console.log everything** - Debug faster
6. **Keep backend logs visible** - Spot errors immediately
7. **Test in one browser** - Chrome is enough for MVP
8. **Mobile testing last** - Desktop first, mobile polish later

---

## ğŸ¤ Demo Script (For Pitch)

1. **Show landing** (5 sec)
   - "This is LEXA - AI for luxury experiences"

2. **Create account** (10 sec)
   - "We create personalized profiles for each client"

3. **Select preferences** (15 sec)
   - "French Riviera for a romantic anniversary"

4. **Chat with AIlessia** (30 sec)
   - Type 3-4 messages showing emotional intelligence
   - Highlight quick action buttons
   - Show proactive suggestions

5. **Reveal script** (20 sec)
   - "AIlessia created this personalized experience"
   - Show cinematic hook
   - Mention 247 real POIs in French Riviera

6. **Explain backend** (20 sec)
   - "Neo4j graph with 200k+ POIs"
   - "6-dimensional personality matching"
   - "Real-time archetype calculation"

**Total:** 90 seconds = perfect pitch demo!

---

## ğŸ†˜ EMERGENCY CONTACT

If totally stuck:

1. Check `rag_system/ONE_DAY_CODE_TEMPLATES.md`
2. Check browser console (F12)
3. Check backend logs (terminal)
4. Restart everything (frontend + backend)
5. Clear localStorage: `localStorage.clear()`
6. Check this doc for common errors

---

**Pin this tab! You'll reference it all day! ğŸ“Œ**

**You've got this! ğŸ’ªğŸš€**

