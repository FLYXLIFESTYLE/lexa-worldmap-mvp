# LEXA Backend Requirements - Windows Compatible
# Pure Python packages + pre-built wheels only

# FastAPI framework
fastapi==0.104.1
uvicorn[standard]==0.24.0
python-multipart==0.0.6
pydantic-settings>=2.0.0

# File processing (pure Python)
PyPDF2==3.0.1
python-docx==1.1.0
openpyxl==3.1.2

# Image processing
Pillow>=10.2.0

# AI and enrichment
anthropic==0.18.1  # Pin to version compatible with httpcore 0.17.3

# Web scraping - Pin entire httpx/httpcore chain
httpx==0.24.1  # Pin exact version compatible with supabase 2.3.0
httpcore==0.17.3  # Compatible with httpx 0.24.1 (prevents socket_options error)
anyio==3.7.1  # Pin to prevent conflicts
h11==0.14.0  # Pin HTTP/1.1 implementation
beautifulsoup4==4.12.2
lxml>=5.0.0

# Database - Pin entire supabase dependency chain
supabase==2.3.0
gotrue==2.4.2  # Compatible with supabase 2.3.0 and httpx 0.24.1
postgrest==0.13.0  # Compatible with supabase 2.3.0
realtime==1.0.3  # Compatible with supabase 2.3.0
storage3==0.7.0  # Compatible with supabase 2.3.0
# NOTE (Windows / Python 3.14):
# psycopg2-binary does not currently provide wheels for Python 3.14, so pip
# tries to compile it from source, which fails without PostgreSQL build tools.
# We don't need psycopg2 for the Captain Portal (we use Supabase HTTP APIs),
# so we skip it on Python 3.14+ to keep setup simple.
psycopg2-binary==2.9.9; python_version < "3.14"

# Utilities
python-dotenv==1.0.0
structlog>=23.1.0

# ============================================================================
# OPTIONAL: Install separately if needed
# ============================================================================
# pandas - use pre-built wheel:
#   pip install pandas --only-binary :all:
# 
# googlemaps - for POI enrichment:
#   pip install googlemaps
#
# google-cloud-vision - for OCR:
#   pip install google-cloud-vision
