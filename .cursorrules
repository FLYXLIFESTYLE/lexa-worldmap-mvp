# LEXA Project Intelligence & Memory Bank

## ðŸš¨ START EVERY CONVERSATION HERE

### STEP 1: READ THIS FIRST (Mandatory)
**File:** `START_HERE.md` - Critical context, existing agent architecture, deployment process

### STEP 2: READ MEMORY BANK (Mandatory)
**Location:** `memory-bank/` - Contains all project context

### Core Files (MUST READ ALL):
1. `productContext.md` - Why LEXA exists, Experience DNA framework, AIlessia + AIbert
2. `systemPatterns.md` - Architecture, agent integration patterns
3. `activeContext.md` - Current MVP completion plan, recent changes
4. `progress.md` - What's complete, what's next
5. `techContext.md` - Technologies and setup
6. `projectbrief.md` - Foundation and core requirements

### STEP 3: CHECK EXISTING CODE
Before creating new files/agents, search for existing implementations:
- Agents: AIlessia (`rag_system/core/ailessia/`), AIbert (`rag_system/core/aibert/`)
- Services: `rag_system/app/services/`
- APIs: `rag_system/app/api/`

### Why This Matters:
Cursor has limited memory (200k tokens) and forgets previous sessions. Reading these files FIRST prevents:
- Recreating existing functionality
- Asking about deployment (it's automated via GitHub!)
- Ignoring existing agent architecture (AIlessia/AIbert)
- Creating inconsistent solutions

## Project-Specific Patterns

### Architecture Philosophy
- **Emotional Intelligence First**: Every feature must consider emotional impact, not just functionality
- **Graph-First Thinking**: Use Neo4j relationships for complex queries, not SQL joins
- **Experience DNA Framework**: Story + Emotion + Trigger for every travel recommendation

### Code Organization
- `app/` - Next.js frontend (user-facing)
  - `app/admin/dashboard/` - Admin Dashboard (3 sections)
  - `app/captain/` - Captain's Knowledge Portal (5 pages)
    - `upload/` - File uploads, URL scraping, manual entry, yacht destinations
    - `browse/` - POI verification, enhancement, confidence scores
    - `history/` - Personal upload history
    - `urls/` - Shared scraped URLs (all captains)
    - `keywords/` - Keyword Monitor (Google Alerts for travel)
- `components/` - Reusable React components
- `lib/` - Shared utilities and API clients
- `rag_system/` - Python FastAPI backend ("AIfred")
- `docs/` - Extensive documentation (90+ files)
- `memory-bank/` - Project context and intelligence

### User Experience Patterns
1. **Visual-First**: Always use images, cards, and visual hierarchy
2. **Luxury Aesthetics**: Gold accents (#D4AF37), navy backgrounds, elegant typography
3. **Progressive Disclosure**: Show complexity gradually, start simple
4. **Emotional Language**: Avoid transactional language, use evocative descriptions

### Data Patterns
- **POI Structure**: Every POI must have: name, coordinates, luxury_score, theme relationships, confidence_score
- **Theme Categories**: 12 core themes (Romance, Adventure, Wellness, etc.)
- **Relationship Types**: `LOCATED_IN`, `HAS_THEME`, `SUPPORTS_ACTIVITY`
- **Luxury Scoring**: 0-10 scale based on rating, price level, reviews, keywords
- **Confidence Scoring**: 0-100%, default 80% for uploads, captain approval required for >80%
- **Data Quality**: Excellent, Good, Fair, Poor - visual badges and filtering
- **Upload Types**: PDF, Word, Excel, .txt, images (.png, .jpg, .jpeg), paste functionality
- **Scraping**: URL scraping with subpage discovery, duplicate detection, error tracking

### Communication Style with User
- **User is a beginner**: Explain WHY and WHAT for every terminal command
- **Always simplify**: Find the simplest path, never over-engineer
- **Design globally**: All styles go in `global.css`, use Shadcn components
- **TypeScript strict**: Always use proper types

### Critical Paths
1. **Theme Selection â†’ Conversation â†’ Experience Script** - This is the core flow
2. **Neo4j Enrichment Pipeline** - Google Places â†’ Luxury Scoring â†’ Graph Storage
3. **Captain Knowledge Pipeline** - Upload/Scrape â†’ Extract â†’ Verify â†’ Enhance â†’ Neo4j Storage
4. **Admin Dashboard** - Chris/Paul/Bakary only - System management and monitoring
5. **Captain Portal** - All captains - Data upload, verification, keyword monitoring

### Known Challenges
- **Windows File Locks**: Sometimes `.next` folder needs manual deletion
- **Port Conflicts**: Backend runs on 8010, frontend expects 8000 (configurable via .env.local)
- **Stale Sessions**: Browser cache/cookies may need clearing after auth changes

### Evolution Notes
- **Started**: Generic travel chatbot
- **Pivoted to**: Emotional experience design with "Experience DNA" methodology
- **December 2024**: User accounts, membership tiers, multi-language support (8 languages), legal disclaimers
- **December 31, 2024**: MAJOR MILESTONE - Complete Captain's Knowledge Portal implementation
  - Admin Dashboard reorganized (3 sections: Statistics, Active Tools, In Development)
  - Captain Portal created with 5 pages: Upload & Manual Entry, Browse/Verify/Enhance, Upload History, Scraped URLs, Keyword Monitor
  - Confidence score system (80% default, captain approval for >80%)
  - Google Alerts-style Keyword Monitor for daily article scanning
  - ~20 hours of development, all frontend complete
  - **INVESTOR VISION DOCUMENTED**: "Ultimate Gift" concept for UHNW individuals
- **Future**: Backend APIs (Phase 7), Database migrations (Phase 8), then production deployment
- **Long-term Vision**: Multi-modal transportation (yachts â†’ jets â†’ cars â†’ trains), luxury assets as themes, real individuals as themes (ultimate gift service)

## Update Protocol
When user says **"update memory bank"**, MUST review ALL memory bank files and update:
- Always update `activeContext.md` and `progress.md`
- Update other files only if significant changes occurred
- Update this `.cursorrules` if new patterns discovered

## Planning Mode
Before major changes:
1. Read ALL memory bank files
2. Ask 4-6 clarifying questions
3. Present comprehensive plan
4. Get approval before executing

## Development Workflow
1. **Read Memory Bank** - Always start here
2. **Check Current Context** - What's the immediate focus?
3. **Make Changes** - Implement with proper error handling
4. **Update Documentation** - Keep memory bank current
5. **Commit Clearly** - Descriptive commit messages

## Captain Portal System (Dec 31, 2024)

### Access Control
- **Admin Access**: Chris, Paul, Bakary - Full system access
- **Captain Access**: All captains - Knowledge Portal only
- **Personal Data**: Upload History (only own uploads)
- **Shared Data**: Scraped URLs, Keyword articles (all captains see all)

### Confidence Score Rules
1. Default: 80% for all new uploads/manual entries
2. Maximum: 80% for uploads (hard limit)
3. Approval: Required to exceed 80%
4. Visual Warning: UI shows alert when attempting >80%
5. Color Coding: Green >80%, Yellow 60-80%, Red <60%

### Upload Workflow
1. Captain uploads file/URL â†’ Stored
2. Backend processes â†’ Extracts data
3. POIs created â†’ Confidence 80%
4. Captain verifies â†’ Can adjust score
5. Quality scored â†’ Excellent/Good/Fair/Poor
6. Enhanced â†’ Better descriptions, tags

### Keyword Monitor (Google Alerts)
1. Captain adds keywords (e.g., "Monaco luxury hotels")
2. System scans daily at 11 PM
3. Articles discovered â†’ Stored with summaries
4. Next morning â†’ Captain reviews articles
5. Select relevant â†’ Queue for scraping
6. Delete irrelevant â†’ Keep feed clean
7. Scraping process â†’ Extracts POI data

### File Formats Supported
- Documents: PDF, Word, Excel, Text
- Images: PNG, JPEG (with OCR)
- Paste: Screenshot clipboard support

### Current Status
- âœ… All 6 frontend phases complete (~20 hours)
- â³ Phase 7: Backend APIs (4-5 hours)
- â³ Phase 8: Database migrations (2 hours)
- See: `CAPTAIN_PORTAL_COMPLETE_SUMMARY.md` for full details

## Remember
- User wants **functional pitch deck content**, not technical architecture
- Focus on **what users get** and **why it's powerful**
- LEXA is about **emotional intelligence**, not just data
- Every feature should answer: "How does this create unforgettable experiences?"
- **Captain Portal**: Focus on knowledge growth, quality control, and collaboration
- **Confidence Scores**: Default 80%, approval for higher, visual enforcement
- **Multi-Language**: 8 languages (EN, FR, ES, DE, IT, PT, RU, AR, ZH) - emotional understanding, not just translation
- **Yacht-First**: Founded by yacht captains, maritime expertise is unique differentiator
- **"Ultimate Gift" Vision**: What do you gift someone who has everything? Emotional experiences money can't buy

## Billion-Dollar Vision & Expansion Strategy

### The "Ultimate Gift" Concept (Core Differentiator)
**Problem Statement:** What do you gift someone who already has everything?
- Material possessions have lost value for UHNW individuals
- Luxury experiences create lasting memories
- Personalized emotional experiences are truly unique and priceless

**LEXA Solution:**
1. Create emotional profile for gift recipient (not the gift giver)
2. AI analyzes hidden desires, childhood dreams, emotional needs, sensory preferences
3. Design completely personalized experience (no two ever the same)
4. Concierge team executes with white-glove service
5. Recipient has life-changing moment they'll never forget

**Market Potential:**
- 265,000 UHNW individuals globally ($35M+ net worth)
- Annual gifting: $10K-$500K per person on luxury gifts
- 1% conversion â†’ 2,650 clients Ã— $50K avg = **$132M annual revenue potential**

**Example Scenarios:**
- Tech billionaire spouse â†’ Private observatory night in Chilean Andes with astronomer
- Fashion executive friend â†’ Co-create art with Parisian painter, yacht Seine cruise with fashion historian
- Retired athlete children â†’ Heliskiing with Olympians, documentary filming, youth sports clinic legacy

### Multi-Modal Transportation Expansion

#### Phase 1: Yacht Mastery (Current â†’ 12 months)
- Mediterranean, Caribbean, Middle East, Asia Pacific
- Yacht charter partnerships, luxury marina access
- Captain network (maritime expertise)

#### Phase 2: Private Aviation (12-24 months)
- Private jet routes, FBO recommendations
- Helicopter transfers (yacht-to-airport, city-to-resort)
- Charter vs. jet cards vs. fractional ownership
- Partner with private aviation companies

#### Phase 3: Luxury Ground Transportation (12-24 months)
- Chauffeur services (Blacklane, local luxury)
- Exotic car rentals (Ferrari, Lamborghini experiences)
- Luxury train journeys (Venice Simplon-Orient-Express, Glacier Express)
- Premium ferry services (exclusive island access)

#### Phase 4: Multi-Modal Seamless Journeys (24-36 months)
- Integrate all transportation modes
- Example: "Private jet to Nice â†’ Helicopter to yacht in Monaco â†’ Chauffeur to restaurant â†’ Yacht to Capri"

### Luxury Assets as Themes (24-36 months)

**Asset Categories:**
1. **Supercars**: Ferrari driving experiences, Lamborghini track days, hypercar rallies
2. **Private Islands**: Exclusive rentals, island-hopping itineraries
3. **Luxury Estates**: Villa rentals, chÃ¢teau experiences, private resort access
4. **Art & Collectibles**: Private gallery tours, artist studio visits, auction experiences
5. **Fine Dining**: Chef's table, private chef at villa, culinary journeys
6. **Wellness & Spa**: Luxury spa retreats, transformational wellness programs

**Example Experiences:**
- "Supercar Romance": Ferrari on Amalfi Coast, sunset champagne, Michelin dinner
- "Art Collector's Monaco": Private gallery viewings, meet artists, yacht gallery cruise
- "Villa Wellness Retreat": Private estate, personal chef, spa, yoga instructor

### Real Individuals as Themes (36-48 months)
**THE ULTIMATE LUXURY GIFT SERVICE**

**How It Works:**
1. Gift giver creates emotional profile for recipient
2. LEXA AI analyzes patterns, suggests emotional themes
3. Completely personalized experience designed (unique every time)
4. Concierge team executes (white-glove, surprise elements)
5. Life-changing moment delivered

**Competitive Advantage:**
- Only platform combining AI emotional intelligence + human concierge + global execution
- Not booking tripsâ€”designing life-changing moments
- Scalable through AI, maintains luxury through human touch

### Global Expansion Vision (2030)
- **10 million users** globally
- **500,000 paid subscribers** ($50M+ MRR)
- **1,000 captains** worldwide (maritime, aviation, luxury experts)
- **5 million POIs** across all luxury categories
- **50+ countries** operational
- **Multi-modal integration** complete (yachts, jets, cars, trains)
- **Luxury asset marketplace** (villas, yachts, art experiences)
- **"Ultimate Gift" service** ($500M+ annual bookings)
- **B2B licensing** (500+ luxury hotels/agencies)

**Path to $1B+ Valuation:**
- Year 5: $120M ARR Ã— 10x multiple = $1.2B valuation
- Comparable: Airbnb Experiences ($1B+ revenue), GetYourGuide ($1.8B valuation)

